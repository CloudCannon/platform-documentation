---
_schema: default
_uuid: dafe4618-7097-42a8-a8b0-f84e4be81131
_created_at: 2024-08-28T16:21:57+12:00
title: Migration Checklist
nav_title: Migration Checklist
order: 2
published: true
image: >-
  https://cc-dam.imgix.net/documentation/images/default-thumbnail/2023-Q4/CloudCannon-Documentation-Thumbnail.png
description:
tags: []
related_links: []
explicit_canonical:
---
## Migration preparation

We recommend creating a new branch of your Site for this migration to avoid misconfiguration affecting your live Site.

To enable Unified Configuration:

1. Navigate to the *Flags* page under *Site Settings*.
2. Check the *Use Unified Configuration* flag under *Unified Configuration*.
3. Click the *Update* button.

CloudCannon now expects your Site to use the Unified Configuration file format.

<comp.DocsImage path="https://cc-dam.imgix.net/documentation/images/guides/unified-configuration-migration/2024-08/CloudCannon-Documentation-Flags-Page-Unified-Configuration.png" alt="A screenshot of the Flags page shows a checkbox named Use Unified Configuration under the Unified Configuration heading." title="The Flags page" type="screenshot"/>

In the short term, depending on how closely your Site configuration matches the Unified Configuration format, your Site may become misconfigured in CloudCannon. Misconfiguration could look like incorrect collections appearance or nonfunctional data sets in Select and Multiselect inputs. You will resolve this temporary state once you complete this migration guide.

One source of misconfiguration is opening your CloudCannon configuration file in the configuration GUI. As CloudCannon expects your configuration file to be in the Unified Configuration format, opening the file in the configuration GUI will strip content from your file (e.g., defunct keys). We highly recommend completing your migration in CloudCannon's Source Editor or your local development environment without using the configuration GUI.

## Checklist

### CloudCannon configuration file type

Your CloudCannon configuration file must be a YAML (recommended) or JSON file rather than Javascript.

### Explicitly configure a path for every collection

Before Unified Configuration, CloudCannon inferred the path for each collection during the Site build step (e.g., Jekyll Sites automatically assumes your posts collection is in the `_posts` folder). CloudCannon no longer uses this behavior.

Please ensure that each collection in `collections_config` has the `path` key defined. The below code shows how to configure a path explicitly:

<comp.MultiCodeBlock language="YAML" translate_into={["json"]} source="cloudcannon.config.yml">
``````````

collections_config:
  blog:
    path: content/blog

``````````
</comp.MultiCodeBlock>

### s

<comp.Conditional ssgs={["Hugo"]}>
  s
</comp.Conditional>

<comp.Conditional not_ssgs={["Hugo"]}>
  This step of the migration guide is only relevant to Sites using Hugo as their SSG.
</comp.Conditional>

### Update the format of your data sets

<comp.Conditional ssgs={["Eleventy", "Hugo", "Jekyll"]}>
  CloudCannon no longer exclusively reads data sets at build time. You must update your data configuration to allow CloudCannon to read your data sets at any time.

  CloudCannon no longer uses the following data configurations:

  <comp.MultiCodeBlock language="YAML" translate_into={["json"]} source="cloudcannon.config.yml">
  ``````````

  data_config: true

  ``````````
  </comp.MultiCodeBlock>

  <comp.MultiCodeBlock language="YAML" translate_into={["json"]} source="cloudcannon.config.yml">
  ``````````

  data_config:
    locations: true

  ``````````
  </comp.MultiCodeBlock>

  <comp.MultiCodeBlock language="YAML" translate_into={["json"]} source="cloudcannon.config.yml">
  ``````````

  data_config:
    locations:
      path: data/locations.yml
      parser___1___: yaml

  ``````````
  <comp.Annotation number="1">
    The key `data_config.*.parser` is now defunct.
  </comp.Annotation>
  </comp.MultiCodeBlock>

  Please update `data_config` to:

  <comp.MultiCodeBlock language="YAML" translate_into={["json"]} source="cloudcannon.config.yml">
  ``````````

  data_config:
    locations:
      path: data/locations.yml

  ``````````
  </comp.MultiCodeBlock>
</comp.Conditional>

<comp.Conditional not_ssgs={["Hugo", "Eleventy", "Jekyll"]}>
  This step of the migration guide is only relevant to Sites using Eleventy, Hugo, or Jekyll as their SSG.
</comp.Conditional>

### Defunct configuration options

CloudCannon no longer uses some configuration options in the Unified Configuration file format. Although leaving these keys in your Site files will not harm your Site, they also will not function. If you want to maintain a clean configuration file, we recommend

We recommend updating the following keys to their new counterparts:

1. `collections_config.*.singular_key`

Please use `_inputs.*.options.values` rather than relying on the naming conventions.

2. `collections\_config.*.output_url`

Collections now default to being output if CloudCannon can determine an output URL. If you need to configure `output: false`, please use the inverted key `collections_config.*.disable_url`.

We recommend deleting the following keys:

1. `data_config.*.parser`
2. `collections_config.*.parser`
3. `collections_config_override`
4. `paths.data`
5. `paths.collections`
6. `paths.layouts`
7. `paths.includes`

### Replace collection filters with globs

CloudCannon no longer uses the `collections_config.*.filter` key to filter which files to show in a collection browser, including the nested keys `base`, `include`, and `exclude`. All collections now show only collection-like files which explicitly belong to a collection, as per the old `filter.base: strict` configuration (i.e., will not show collection-like files from a different collection that are stored at the same collection path).

CloudCannon now uses file globs to determine which files are visible within a collection. A file glob is a pattern used to identify matching files. The `collections_config.*.glob` key is an Array. Each entry in the array is a pattern that controls which files are visible in CloudCannon's collection browser. The glob pattern is relative to your collection path, and can include negative values by adding the `!` character as a prefix.

The below code shows how to configure the `glob` key for your collection:

<comp.MultiCodeBlock language="YAML" translate_into={["json"]} source="cloudcannon.config.yml">
``````````

collections_config:
  blog:
    path: content/blog
    glob:
      - '!_index.md'

``````````
</comp.MultiCodeBlock>

### s

x

### Explicitly configure attributes for Editable Regions

CloudCannon no longer automatically applies

## Migration conclusion

Once you have completed the migration checklist, open your Site in CloudCannon and review your configuration. Once you are happy with your changes, you can merge your branch with your main Site branch.

If you have any question about this migration guide, or need assistance, please contact our friendly [support team](/support/). We're always here to help.