---
_schema: default
_uuid: 5095ec21-834a-40b8-9a29-73f4eb99cab0
_created_at: 2025-08-28T08:53:07+12:00
title: Visual editing for arrays and page building
nav_title: 'TODO: Visual editing for arrays and page building'
order: 6
published: true
start_nav_group:
image: >-
  https://cc-dam.imgix.net/documentation/images/guides/getting-started/guide-thumbnails/CloudCannon-Getting-Started-Thumbnail-Universal.png
description: >-
  Learn how to configure Editable Regions for arrays, allowing you to add,
  delete, and reorder items, or enable page building.
---
Some webpages, or webpage components, are constructed from arrays. An array could be simple, where each item has the same structure (e.g., a testimonial component), or more complex, where each item has a different structure (e.g., a page with various components).

You can enable your team to visually edit arrays, including adding, deleting, and reordering items.

In this step of the guide, we'll cover how to add *Editable Regions* to simple arrays and enable page building with editable complex arrays.

## Title

Our testimonial page is generated by an HTML layout, populated by several data files containing testimonial content.

This file is a testimonial data file, containing structured data keys for `image`, `image_alt`, `name`, `job_title`, and `quote`.

<comp.CodeBlock language="Markdown" source="testimonials.md">
``````````

---
layout: ../layouts/TestimonialsLayout.astro
testimonials:
  - image: /astro-blog/blog-placeholder-2.jpg
    image_alt: Profile photo of D. Gale
    name: D. Gale
    job_title: CEO at Yellow Brick Industries
    quote: >-
      "In pretium libero sed velit posuere sagittis."
  - image: /astro-blog/blog-placeholder-3.jpg
    image_alt: Profile photo of S. Crow
    name: S. Crow
    job_title: CBO at Yellow Brick Industries
    quote: >-
      "Mauris at augue quis orci egestas eu in nulla."
  - image: /astro-blog/blog-placeholder-4.jpg
    image_alt: Profile photo of T. Man
    name: T. Man
    job_title: CHO at Yellow Brick Industries
    quote: >-
      "Nunc ut sem vitae tortor volutpat varius."
  - image: /astro-blog/blog-placeholder-5.jpg
    image_alt: Profile photo of C. Lion
    name: C. Lion
    job_title: CCO at Yellow Brick Industries
    quote: >-
      "Aenean pharetra orci ac tincidunt lobortis."
---

``````````
</comp.CodeBlock>

Here is an excerpt from our Testimonial Layout file, containing HTML webpage and templating to populate elements with the values from each testimonial file.

<comp.CodeBlock language="Astro" source="TestimonialsLayout.astro">
``````````

---
const { testimonials } = Astro.props.frontmatter;
---

<!doctype html>
<html lang="en">
	<body>
		<main>
			<section>
				<ul>
					{
						testimonials.map((testimonial) => (
							<li>
								{testimonial.image && (
									<img
                                      width={720}
                                      height={360}
                                      src={testimonial.image}
                                      alt={testimonial.image_alt}
                                    />
								)}
								<h4 class="name">{testimonial.name}</h4>
                                <p class="job">{testimonial.job_title}</p>
								<p class="quote">{testimonial.quote}</p>
							</li>
						))
					}
				</ul>
			</section>
		</main>
	</body>
</html>

``````````
<comp.Annotation number="1">
  This `<img>` element contains image width, height, source, title, and alt text attributes. The `src`, `title`, and `alt` attributes are set to the template `{heroImage}`, `{heroImageTitle}`, and `{heroImageAlt}` respectively, which draw their values from the keys in the front matter of a blog file.
</comp.Annotation>
<comp.Annotation number="2">
  This `<h1>` element surrounds the template value `{title}`. This value comes from the `title` key in the front matter of a blog file.
</comp.Annotation>
<comp.Annotation number="3">
  This `<p>` element surrounds the template value `{author}`, prepended by the plain text "By:". This value comes from the `author` key in the front matter of a blog file.
</comp.Annotation>
<comp.Annotation number="4">
  This `<slot />` element marks where the markup content from a blog file will go.
</comp.Annotation>
</comp.CodeBlock>

Together, these files output a webpage that looks like this:

<comp.DocShot docshot_key="" alt="" title="" type="screenshot"/>

In this example, we want to be able to add, delete, and reorder the items in the testimonials array using the Visual Editor, and edit the text and image content for each item.

Let's start with the array.

In our example, the `<ul>` element wraps our array, with its contents looping over every array item stored under the `testimonials` key. We can add the `data-editable="array"` HTML component to the `<ul>` to define the data type for the *Editable Region*, or nest the equivalent web component `<editable-array>` inside `<ul>` to wrap the array.

<comp.Notice info_type="important">
  <p>If you prefer to use the web component <code>&lt;editable-array&gt;</code>, please ensure that the web component is the immediate parent element of your array.</p>
</comp.Notice>

&nbsp;

&nbsp;

&nbsp;

Here's what our Testimonial Layout code should look like:

<comp.CodeBlock language="Astro" source="TestimonialsLayout.astro">
``````````

---
const { testimonials } = Astro.props.frontmatter;
---

<!doctype html>
<html lang="en">
	<body>
		<main>
			<section>
				<ul data-editable="array" data-prop="testimonials">
					{
						testimonials.map((testimonial) => (
							<li data-editable="array-item" >
								{testimonial.image && (
									<img
                                        data-editable="image"
                                        data-prop-src="image"
                                        data-prop-alt="image_alt"
                                        width={720}
                                        height={360}
                                        src={testimonial.image}
                                        alt={testimonial.image_alt}
                                    /> /*1*/
								)}
								<h4 class="name" data-editable="text" data-prop="name">{testimonial.name}</h4> /*2*/
                                <p class="job" data-editable="text" data-prop="job_title">{testimonial.job_title}</p> /*3*/
								<p class="quote" data-editable="text" data-prop="quote">{testimonial.quote}</p> /*4*/
							</li>
						))
					}
				</ul>
			</section>
		</main>
	</body>
</html>

``````````
<comp.Annotation number="1">
  This `<img>` element contains image width, height, source, title, and alt text attributes. The `src`, `title`, and `alt` attributes are set to the template `{heroImage}`, `{heroImageTitle}`, and `{heroImageAlt}` respectively, which draw their values from the keys in the front matter of a blog file.
</comp.Annotation>
<comp.Annotation number="2">
  This `<h1>` element surrounds the template value `{title}`. This value comes from the `title` key in the front matter of a blog file.
</comp.Annotation>
<comp.Annotation number="3">
  This `<p>` element surrounds the template value `{author}`, prepended by the plain text "By:". This value comes from the `author` key in the front matter of a blog file.
</comp.Annotation>
<comp.Annotation number="4">
  This `<slot />` element marks where the markup content from a blog file will go.
</comp.Annotation>
</comp.CodeBlock>

Once we save and rebuild our *Site*, CloudCannon will show a yellow *Editable Regions* box all the content inside the `<main>` tag on the Home page in the Visual Editor, enabling rich text editing. When you click into the *Editable Region*, CloudCannon will also display a WYSIWYG toolbar for formatting your content.

&nbsp;

&nbsp;

This time, the value of our

**Like in our previous step,** [**Visual editing for content files**](https://nifty-quelea.cloudvent.net/documentation/guides/set-up-visual-editing/visual-editing-for-content-files/)**, the `data-editable` HTML attribute will define the type of data we want to edit. In this case, the value is `source` as the `<main>` tag contains source code. We can add this to the `<main>` tag, or wrap the `<main>` tag in the equivalent web component `<editable-source>`.**

&nbsp;

&nbsp;

&nbsp;

&nbsp;

&nbsp;

---

&nbsp;

We can use Array Editables to allow users to click and drag elements around the Visual Editor, reordering them within an array.

In this step of the guide, we'll add the following attributes:

* `data-editable="array"` and `<array-editable>` — This attribute, and its equivalent web component, defines the data type inside an Editable as `array`.
* `data-editable="array-item"` and `<array-item>` — This attribute, and its equivalent web component, defines the data type inside an Editable as `array-item`.
* `data-prop=""` — This attribute defines the path to the data property you want to edit and passes that value to the CloudCannon Editable.
* `data-id-key=""` — This attribute defines...
* `data-id` — This attribute defines...

For a complete list of configuration options for CloudCannon Editables, please read our [Editables reference](/documentation/articles/editables-reference) documentation.

## Simple arrays

&nbsp;

Let's walk through an example.

Our Home page, `index.mdx`, stores testimonial information in YAML in the `slider` array. Each item in the array has the same structure, with the `image`, `image_alt`, `author`, `designation`, and `message` keys.

<comp.CodeBlock language="YAML" source="index.yml">
``````````

content_blocks:
  component_name: testimonial
    title: Build relationships that last
    description: >-
      Customers from around the world are building game-changing email marketing campaigns.
    slider: /*1*/
      - image: /images/testimonial/logo-2.jpg //2
        image_alt: Profile photo of Pete Fish
        author: Pete Fish
        designation: CMO at Clear Appeal
        message: >-
          Sendit has taken Clear Appeal to the next level with its beautiful
          targeted email campaigns.
      - image: /images/testimonial/logo-3.jpg #3
        image_alt: Profile photo of Dolly Watson
        author: Dolly Watson
        designation: Digital Marketer at Time Cop
        message: >-
          Wow, what a difference Sendit has made. My customers are more engaged
          than ever.
      - image: /images/testimonial/logo-4.jpg <!--4-->
        image_alt: Profile photo of Simon Moriarty
        author: Simon Moriarty
        designation: Head of Marketing at Pinnacle Mines
        message___5___: >-
          I can't imagine life without Sendit now, I have no idea how we were
          surviving before.

``````````
</comp.CodeBlock>

Data from structured data keys in `index.mdx` populate templating in our layout file

<comp.CodeBlock language="JSX" source="testimonials.jsx">
``````````

import MarkdownIt from "markdown-it";
const md = new MarkdownIt({ html: true });

export default function GlobalTestimonial(block) {
  return (
    <section>
      <div>
        <div>
          <div>
            <div>
              <h2>
                {block.title}
              </h2>
              <div>
                {block.title}
              </div>
            </div>
          </div>
        </div>
        <div data-editable="array" data-prop="slider"> /*1*/
          {block.slider.map((slide, i) => (
            <Testimonial slide={slide} i={i} key={i} />
          ))}
        </div>
      </div>
    </section>
  );
}
function Testimonial({ slide, i }) {
  return (
    <div key={i} data-editable="array-item">
      <div>
        <div>
          <div>
            <img
              src={slide.image}
              alt="logo"
              className={slide.image_alt}
              loading="lazy"
            />
          </div>
          <div>
            <h3>{slide.author}</h3>
            <p>{slide.designation}</p>
          </div>
        </div>
        <p>{slide.message}</p>
      </div>
    </div>
  );
}

``````````
</comp.CodeBlock>

Together, these files output a webpage that looks like this:

<comp.DocsImage path="" alt="" title=""/>

Let's enable array editing in the Visual Editor by adding Array Editables to our component file.

&nbsp;

&nbsp;

&nbsp;

&nbsp;

&nbsp;

**When you open a content file like `first-post.mdx` in the Visual Editor, CloudCannon will automatically add Inputs to the sidebar for you to edit the structured data in your front matter, but you can't change your content or edit it directly on the page.**

**Let's fix that by adding CloudCannon Editables to your blog layout file.**

&nbsp;

## Complex arrays and page building

x

&nbsp;

&nbsp;

---

## Step 3: Make Arrays Editable

If your frontmatter has arrays (like tags or a team list):

```markdown
---
title: "About Us"
team_members:
  - name: "John Doe"
    role: "Developer"
    bio: "Loves coding"
  - name: "Jane Smith"
    role: "Designer"
    bio: "Creative problem solver"
tags: ["astro", "web-development", "javascript"]
---
```

Make them editable in your Astro component:

```astro
---
const { frontmatter } = Astro.props;
---

<!-- Editable team members array -->
<section>
  <h2>Our Team</h2>
  <array-editable data-prop="team_members">
    {frontmatter.team_members?.map((member, index) => (
      <array-item key={index}>
        <div class="team-member">
          <h3><text-editable data-prop="name">{member.name}</text-editable></h3>
          <p><text-editable data-prop="role">{member.role}</text-editable></p>
          <p><text-editable data-prop="bio" data-type="text">{member.bio}</text-editable></p>
        </div>
      </array-item>
    ))}
  </array-editable>
</section>

<!-- Editable simple tags array -->
<div>
  <h3>Tags:</h3>
  <array-editable data-prop="tags">
    {frontmatter.tags?.map((tag, index) => (
      <array-item key={index}>
        <span class="tag">
          <text-editable data-prop="">{tag}</text-editable>
        </span>
      </array-item>
    ))}
  </array-editable>
</div>
```

Step 6: Working with Collections#

If you're using Astro's content collections, you can make collection data editable:

```astro
---
import { getCollection } from 'astro:content';
const posts = await getCollection('blog');
---

<h1>Blog Posts</h1>
<array-editable data-prop="@collections[blog]">
  {posts.map((post) => (
    <array-item key={post.id}>
      <article>
        <h2>
          <text-editable data-prop="data.title">{post.data.title}</text-editable>
        </h2>
        <p>
          <text-editable data-prop="data.description">{post.data.description}</text-editable>
        </p>
        <a href={`/blog/${post.slug}/`}>Read more</a>
      </article>
    </array-item>
  ))}
</array-editable>
```