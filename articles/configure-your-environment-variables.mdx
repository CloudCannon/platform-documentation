---
_schema: default
_uuid: 31d07bad-f98f-4ef1-8ceb-c3ab9256cc6a
_created_at: 2024-08-29T16:55:03+12:00
title: Configure your environment variables
nav_title: Configure your environment variables
published: true
image: >-
  https://cc-dam.imgix.net/documentation/images/default-thumbnail/2023-Q4/CloudCannon-Documentation-Thumbnail.png
description:
article_category:
  - Instructions
article_topic:
  - Builds
  - Sites
tags: []
related_articles: []
related_links: []
explicit_canonical:
---
x

<comp.Notice info_type="info">
  If you have yet to [configure your first Site build](/documentation/articles/configure-your-first-build/), CloudCannon will suggest environment variables for you based on your SSG and the contents of your Site files.
</comp.Notice>

To configure your command line options:

1. Navigate to the *Build configuration* page under *Site Settings*.
2. Under *Command line options*, enter your *Environment Variables*.
3. Click the *Update Site* button.

<comp.DocsImage path="" alt="" title=""/>

Environment variables are often used in conjunction with command line options. For more information, please read our documentation on [configuring your command line options](/documentation/articles/configure-your-command-line-options/).

---

## Using Environment Variables

Environments allow you to use different values in your website depending on where it is deployed. For example, you could use a different CDN for your development, staging and production sites.

To change the environment variables for your site:

1. Go to the *Site Settings* / *Configuration* section
2. Create/edit your environment key and value under *Environment Variables*
3. Click **Update Build Details**

<comp.Conditional ssgs={["Jekyll"]}>
  CloudCannon defaults to **production**. Running Jekyll locally defaults to **development**.

  <comp.CodeBlock language="shell" source="shell">
  ```
  $ JEKYLL_ENV=production bundle exec jekyll serve
  ```
  </comp.CodeBlock>

  Jekyll exposes the environment with `jekyll.environment`. You can use this to create separate configurations.

  Here’s a short example using variables from `_config.yml`\:

  <comp.CodeBlock language="yaml" source="_config.yml">
  ```
  development:
    asset_url: "http://localhost:1337/"
    app_url: "http://localhost:3000/"

  staging:
    asset_url: "https://staging.example.org/assets/"
    app_url: "https://staging.example.org/"

  production:
    asset_url: "https://cdn.example.org/"
    app_url: "https://app.example.org/"
  ```
  </comp.CodeBlock>

  <comp.CodeBlock language="html" source="index.html">
  ```
  ---
  ---

  <p>Environment: {{ jekyll.environment }}</p>
  <p>Asset URL: {{ site[jekyll.environment].asset_url }}</p>
  <p>App URL: {{ site[jekyll.environment].app_url }}</p>
  <p>Development Asset URL: {{ site.development.asset_url }}</p>
  <p>Production Asset URL: {{ site.production.asset_url }}</p>
  <p>Staging Asset URL: {{ site.staging.asset_url }}</p>
  <p>Development App URL: {{ site.development.app_url }}</p>
  <p>Staging App URL: {{ site.staging.app_url }}</p>
  <p>Production App URL: {{ site.production.app_url }}</p>
  ```
  </comp.CodeBlock>
</comp.Conditional>

<comp.Conditional ssgs={["Hugo"]}>
  CloudCannon defaults to **production**. Running `hugo` locally defaults to **production**. Running `hugo server` locally defaults to **development**.

  To change the environment locally, set it before running Hugo:

  <comp.CodeBlock language="shell" source="shell">
  ```
  $ HUGO_ENV=production hugo
  ```
  </comp.CodeBlock>

  You can set the Hugo environment using the `—-environment` flag in the command line. Learn more about [build configuration](/documentation/build/setup/configuration/).

  Hugo exposes the environment with `hugo.Environment`.

  Using a configuration directory allows you to create separate configurations for each environment. See the example in the [Hugo documentation](https://gohugo.io/getting-started/configuration/#configuration-directory).
</comp.Conditional>

<comp.Conditional ssgs={["Eleventy"]}>
  CloudCannon has no default. You should set your environment variables everywhere you need them before building. The Eleventy documentation mentions `ELEVENTY_ENV` as a convention.

  To change the environment locally, set it before running Eleventy:

  <comp.CodeBlock language="shell" source="shell">
  ```
  $ ELEVENTY_ENV=production npx @11ty/eleventy
  ```
  </comp.CodeBlock>
</comp.Conditional>

<comp.Conditional not_ssgs={["Jekyll", "Eleventy", "Hugo"]}>
  CloudCannon does not set default environment variables for custom SSGs.

  To change an environment variable locally, set it before running your build command:

  <comp.CodeBlock language="shell" source="shell">
  ```
    $ MY_ENV_VAR=hello <build command>
  ```
  </comp.CodeBlock>
</comp.Conditional>

---

Most static site generators offer a number of configuration options for use on the command line. Configure these and other CloudCannon-specific build options per site.

To change a command line build option:

1. Go to the *Site Settings* / *Build* section
2. Change details for one or more options
3. Click **Update Configuration**

<comp.Notice info_type="info">
  See in-depth details for configuring [Environments](/documentation/articles/managing-your-node-version-with-nvm/) and [Optimizations](/documentation/articles/optimizing-your-build-by-minifying-css-and-javascript/)
</comp.Notice>

<comp.DocsImage path="ye_olde_images/builds-configuration.png" alt="Build Configuration interface" title="" type="screenshot"/>

## Using Environment Variables

Environments allow you to use different values in your website depending on where it is deployed. For example, you could use a different CDN for your development, staging and production sites.

To change the environment variables for your site:

1. Go to the *Site Settings* / *Configuration* section
2. Create/edit your environment key and value under *Environment Variables*
3. Click **Update Build Details**

<comp.Conditional ssgs={["Jekyll"]}>
  CloudCannon defaults to **production**. Running Jekyll locally defaults to **development**.

  <comp.CodeBlock language="shell" source="shell">
  ```
  $ JEKYLL_ENV=production bundle exec jekyll serve
  ```
  </comp.CodeBlock>

  Jekyll exposes the environment with `jekyll.environment`. You can use this to create separate configurations.

  Here’s a short example using variables from `_config.yml`\:

  <comp.CodeBlock language="yaml" source="_config.yml">
  ```
  development:
    asset_url: "http://localhost:1337/"
    app_url: "http://localhost:3000/"

  staging:
    asset_url: "https://staging.example.org/assets/"
    app_url: "https://staging.example.org/"

  production:
    asset_url: "https://cdn.example.org/"
    app_url: "https://app.example.org/"
  ```
  </comp.CodeBlock>

  <comp.CodeBlock language="html" source="index.html">
  ```
  ---
  ---

  <p>Environment: {{ jekyll.environment }}</p>
  <p>Asset URL: {{ site[jekyll.environment].asset_url }}</p>
  <p>App URL: {{ site[jekyll.environment].app_url }}</p>
  <p>Development Asset URL: {{ site.development.asset_url }}</p>
  <p>Production Asset URL: {{ site.production.asset_url }}</p>
  <p>Staging Asset URL: {{ site.staging.asset_url }}</p>
  <p>Development App URL: {{ site.development.app_url }}</p>
  <p>Staging App URL: {{ site.staging.app_url }}</p>
  <p>Production App URL: {{ site.production.app_url }}</p>
  ```
  </comp.CodeBlock>
</comp.Conditional>

<comp.Conditional ssgs={["Hugo"]}>
  CloudCannon defaults to **production**. Running `hugo` locally defaults to **production**. Running `hugo server` locally defaults to **development**.

  To change the environment locally, set it before running Hugo:

  <comp.CodeBlock language="shell" source="shell">
  ```
  $ HUGO_ENV=production hugo
  ```
  </comp.CodeBlock>

  You can set the Hugo environment by adding `—-environment` to one of your command line options. Learn more about [command line options](/documentation/articles/configure-your-command-line-options/).

  Hugo exposes the environment with `hugo.Environment`.

  Using a configuration directory allows you to create separate configurations for each environment. See the example in the [Hugo documentation](https://gohugo.io/getting-started/configuration/#configuration-directory).
</comp.Conditional>

<comp.Conditional ssgs={["Eleventy"]}>
  CloudCannon has no default. You should set your environment variables everywhere you need them before building. The Eleventy documentation mentions `ELEVENTY_ENV` as a convention.

  To change the environment locally, set it before running Eleventy:

  <comp.CodeBlock language="shell" source="shell">
  ```
  $ ELEVENTY_ENV=production npx @11ty/eleventy
  ```
  </comp.CodeBlock>
</comp.Conditional>

<comp.Conditional not_ssgs={["Jekyll", "Eleventy", "Hugo"]}>
    CloudCannon does not set default environment variables for other SSGs.

    To change an environment variable locally, set it before running your build command:

    <comp.CodeBlock language="shell" source="shell">
    ```
    $ MY_ENV_VAR=hello <build command>
    ```
    </comp.CodeBlock>
</comp.Conditional>

---

## Setting your SSG version

It's good practice to specify which version of your static site generator you use to avoid errors and unexpected behavior. CloudCannon offers different methods to manage this based on which generator you use.

<comp.Conditional ssgs={["Jekyll"]}>
  CloudCannon supports Jekyll versions after **2\.4.0**. New sites without the version set use a default version. The version is displayed in the *Status* section after each build.

  <comp.Notice info_type="info">
    Set the version to avoid future breaking changes and version clashes across environments.
  </comp.Notice>

  To set the version:

  1. Add a `Gemfile` to the root folder
  2. Add the `jekyll` dependency to your `Gemfile`
  3. Set the version as required

  <comp.CodeBlock language="ruby" source="Gemfile">
  ```
  source "https://rubygems.org"
  gem "jekyll", "~> 4.1.1"
  ```
  </comp.CodeBlock>

  By default, CloudCannon uses `/Gemfile` as the gem source. To change this you can set the `BUNDLE_GEMFILE` environment variable (e.g. `BUNDLE_GEMFILE=src/Gemfile`).

  <comp.Notice info_type="important">
    Setting the `BUNDLE_GEMFILE` environment variable requires that your gems are specified in the `_config.yml` file.
  </comp.Notice>
</comp.Conditional>

<comp.Conditional ssgs={["Hugo"]}>
  By default CloudCannon builds using Hugo version <comp.SystemVersionDefault language="go" item="hugo"/>. You can change which version of Hugo your build uses by running the `install-hugo` command in a [preinstall hook](/documentation/articles/extending-your-build-process-with-hooks/).

  For example, to build your site using an older version of Hugo:
  <comp.CodeBlock language="shell" source=".cloudcannon/preinstall">
  ```
  install-hugo 0.100.2
  ```
  </comp.CodeBlock>

  Do not include `_extended` or `+extended` in your version. CloudCannon will automatically use the [extended](https://gohugo.io/installation/linux/#editions) release of the specified version.
</comp.Conditional>

<comp.Conditional ssgs={["Eleventy"]}>
  CloudCannon builds with any version of Eleventy, although is focused from version **v0.12.1** onward.

  Since we build Eleventy sites with `npx`, the latest version is run unless specified otherwise in `package.json`.
</comp.Conditional>

<comp.Conditional not_ssgs={["Jekyll", "Eleventy", "Hugo"]}>
  CloudCannon uses the version you specify for your SSG with `npm` or another package manager.
</comp.Conditional>