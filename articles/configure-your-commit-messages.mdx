---
_schema: default
_uuid: 0224189e-8e58-471c-8b9e-9edc666f1150
_created_at: '2022-12-19 23:26:16 +0000'
title: Configure your commit messages
nav_title: Configure your commit messages
published: true
image: >-
  https://cc-dam.imgix.net/documentation/images/default-thumbnail/2023-Q4/CloudCannon-Documentation-Thumbnail.png
description: >-
  Learn how to configure commit messages to describe each commit and provide a
  record of the changes to your website.
article_category:
  - Explanation
  - Reference
  - Instructions
tags: []
related_articles: []
related_links:
---
A commit message is a short piece of text used to describe changes you make to you website. Commit messages provide a record of your changes for you and your team members. If you have commit messages configured, the *Review changes* modal will prompt you to add a commit message every time you [save your changes](/documentation/articles/save-your-changes/).

Commit messages in CloudCannon use predefined templates to maintain a consistent format. These templates use template strings to populate the commit message with a mix of text and data. For more information, please read our documentation on [template strings](/documentation/articles/configure-your-template-strings/).

You can configure a commit message by adding the array key `commit_templates` to your [global configuration file](/documentation/articles/create-a-global-configuration-file/).

### Commit messages and external integrations

Depending on your Git provider, some external programs can integrate with your repository and read your commit messages. For example, the Jira and GitHub integration enables commits to your repository that use a specific commit message format to close Jira tickets.

It is important to configure your template string correctly if you need your commit message to match a particular format for an integration.

## Configure a commit template

To configure a basic commit message:

1. Navigate to your global configuration file and open it in the Source Editor.
2. Identify the `commit_templates` key, or create one at the top level of your configuration file.
3. Add a `template_string` item within the `commit_templates` array.
4. Save your changes to the global configuration file.

Here is an example of a simple commit message using a text string.

<comp.MultiCodeBlock language="YAML" translate_into={["json", "JavaScript"]} source="cloudcannon.config.yml">
```
commit_templates___1___:
  - template_string___2___: "{message}"
```
<comp.Annotation number="1">
  The `commit_templates` key contains all the commit message templates in an array.
</comp.Annotation>
<comp.Annotation number="2">
  The `template_string` key contains the template for your commit. In this example the template string uses the dynamic placeholder `{message}`. As the key "message" is undefined, CloudCannon will provide a text input.
</comp.Annotation>
</comp.MultiCodeBlock>

Once you have saved the changes to your global configuration file, the *Review changes* modal in CloudCannon will update to include a commit message.

<comp.DocsImage path="https://cc-dam.imgix.net/documentation/images/editing/save-changes/2024-03/CloudCannon-Documentation-Save-Changes-Commit-Message.png" alt="The Review changes modal with a commit message describing the changes made to the site." title="Commit messages in the Review changes modal with commit message field" type="ui-snippet"/>

You can configure multiple commit message template strings in your global configuration file. When you or a team member save changes to your website, the *Review changes* modal will prompt you to select which template to use. In this case, adding a `label` to each template string is important.

Here is an example of multiple commit message templates.

<comp.MultiCodeBlock language="YAML" translate_into={["json", "JavaScript"]} source="cloudcannon.config.yml">
```
commit_templates:
  - label___1___: Custom message
    template_string: "{message}"
  - label___2___: Structured message
    template_string___3___: "{commit_type}: {message|trim}"
    _inputs___4___:
      commit_type___5___:
        type: select
        options:
          values:
            - feature
            - fix
            - refactor
```
<comp.Annotation number="1">
  The `label` key provides a name for the first template in the array.
</comp.Annotation>
<comp.Annotation number="2">
  The `label` key provides a name for the second template in the array.
</comp.Annotation>
<comp.Annotation number="3">
  This template uses two placeholders and a filter. The key `commit_type` is defined below. The key `message` is undefined and will appear as a text input with the trim filter applied to the content.
</comp.Annotation>
<comp.Annotation number="4">
  All data placeholders used in the commit template must be defined under the `_inputs` key. If a placeholder is not defined, CloudCannon will make it an empty text input by default.
</comp.Annotation>
<comp.Annotation number="5">
  `commit_type` defines this key as a select input with three options, "feature", "fix", or "refactor".
</comp.Annotation>
</comp.MultiCodeBlock>

<comp.DocsImage path="https://cc-dam.imgix.net/documentation/images/editing/commit-messages/2024-05/CloudCannon-Documentation-Review-Changes-Modal-Commit-Template.png" alt="The Review changes modal shows a commit message with a select and a text input." title="The Review changes modal" type="ui-snippet"/>

## Placeholders in commit templates

Commit templates can use placeholders. When CloudCannon reads a placeholder in a commit message, it will replace it with the data it references before sending the commit message to your Git repository.

There are two types of placeholders:

* **Data placeholders** — Replaced with data you have defined. These placeholders use `{ }` brackets.
* **Fixed placeholders** — Replaced with data defined by CloudCannon. These placeholders use `[ ]` brackets.

In the above code, `{message}` and `{commit_type}` are examples of data placeholders. For commit message templates, data placeholders reference inputs you have defined in your global configuration file under `commit_templates._inputs`. If you do not define a data placeholder used by your commit template, CloudCannon will make it an empty text input by default (i.e., the `{message}` placeholder).

CloudCannon recognizes the following fixed placeholders in commit templates:

* `[changes]` creates a bulleted list of all changes in the commit (edits, additions, and deletions).
* `[date]` reads as the current date
* `[author]` reads as the email address of the person making the commit
* `[default_commit_message]` creates the default commit message that CloudCannon would generate. This will resolve to a sentence like "Added/Updated X file(s)".

You can use a mix of data and fixed placeholders in your commit templates.

<comp.MultiCodeBlock language="YAML" translate_into={["json", "JavaScript"]} source="cloudcannon.config.yml">
```
commit_templates:
  - template_string___1___: |
     {ticket_number}: {subject}
     Committed by [author] at [date]
    _inputs:
      ticket_number:
        type: number
```
<comp.Annotation number="1">
  The `template_string` contains two data placeholders, one defined and one undefined, and two fixed placeholders.
</comp.Annotation>
</comp.MultiCodeBlock>

<comp.Notice info_type="info">
  If your commit template does not include any placeholders, any literal text in the template string will appear in a text area on the *Review changes* modal.
</comp.Notice>

For more information on placeholders in general, please read our documentation on [configuring your template strings](/documentation/articles/configure-your-template-strings/).

## Filters in commit templates

Commit templates can use filters to modify placeholders. Filters should occur after the placeholder name, separated by a `|` character. You can apply multiple filters to a single placeholder. For example, `{title|trim|uppercase}` will trim, then uppercase, a data placeholder called "title".

For more information, including a full list of filters, please read our documentation on [configuring your template strings](/documentation/articles/configure-your-template-strings/).

&nbsp;

###

### Examples

The default configuration simply uses the `default_commit_message` placeholder. This will be used if you don't have any configured commit templates.

<comp.CodeBlock language="yaml" source="/cloudcannon.config.yaml">
```
commit_templates:
  - template_string: "[default_commit_message]"
```
</comp.CodeBlock>

In the example below, the user can type into a text field labelled "Message", and leading/trailing whitespace will be trimmed off.

<comp.CodeBlock language="yaml" source="/cloudcannon.config.yaml">
```
commit_templates:
  - template_string: "{message|trim}"
```
</comp.CodeBlock>

In this third example, the template string is loaded from a file in the `.git` directory. Assuming the file contains no placeholders, its contents will be loaded into a text input for the user to edit, before saving.

This example most closely matches the `git --template=<file>` \[flag behaviour\](If your commit template contains no placeholders, its contents will be loaded directly into a textarea, so the user can edit the whole thing before saving.).

<comp.CodeBlock language="yaml" source="/cloudcannon.config.yaml">
```
commit_templates:
  - template_path: /.git/commit-message.txt
```
</comp.CodeBlock>

The `commit_templates` option takes an array, supporting multiple commit templates. The committer will be able to select the template they want from a dropdown.

Make sure to use the label field to help differentiate each template.

<comp.CodeBlock language="yaml" source="/cloudcannon.config.yaml">
```
commit_templates:
  - label: Trimmed message
    template_string: "{message|trim}"
  - label: Commit message from file
    template_path: /.git/commit-message.txt
```
</comp.CodeBlock>

You can use [input configuration](/documentation/articles/configure-your-inputs/) to take greater control over the data. In the example below, the committer will be able to select a "commit type" from a dropdown with three predefined options.

This commit template might result in a message like:

```
fix: removed security vulnerability
```

<comp.CodeBlock language="yaml" source="/cloudcannon.config.yaml">
```
commit_templates:
  - template_string: "{commit_type}: {message|trim}"
    _inputs:
      commit_type:
        type: select
        options:
          values:
            - feature
            - fix
            - refactor
```
</comp.CodeBlock>

You might want to have some specific formatting around an optional part of the commit message.

In the example below, the committer can fill in a text field called "Breaking Change Message". This message will appear after a blank line, and will be prepended with a ⚠️ warning emoji. However, thanks to the `if` filter, the blank line and emoji won't be added if `breaking_change_message` is left empty.

This commit template might result in either of the following messages:

```
Updated dependencies
```

```
Removed insecure endpoint

⚠️ /passwords is no longer available
```

<comp.CodeBlock language="yaml" source="/cloudcannon.config.yaml">
```
commit_templates:
  - template_string: "{message}{breaking_change|if=breaking_change_message}"
    _inputs:
      breaking_change_message:
        type: text
    extra_data:
      breaking_change: |-

        ⚠️ {breaking_change_message}
```
</comp.CodeBlock>

&nbsp;

### Options

Commit templates have the following options available:

<comp.DataReference>
  <comp.DataReferenceRow label="label" type_markdown="String">
    Used to identify the commit template, for cases where multiple templates have been made available to the user.
  </comp.DataReferenceRow>
  <comp.DataReferenceRow label="template_path" type_markdown="String">
    The path to a file from your site's source files, relative to the root directory. The contents of this file will be used as the template.
  </comp.DataReferenceRow>
  <comp.DataReferenceRow label="template_string" type_markdown="String">
    Use this string as the template. This will only be used if `template_path` is not set.
  </comp.DataReferenceRow>
  <comp.DataReferenceRow label="_inputs" type_markdown="Object">
    Specify input fields that will be available to the committer. Read more about configuring inputs [here](/documentation/articles/configure-your-inputs/). Values from these inputs can be used to populate placeholders within the template.
  </comp.DataReferenceRow>
  <comp.DataReferenceRow label="extra_data" type_markdown="Object">
    Define variables which can be used a data placeholders. Values are template strings, so you can use this to build nested templates. Values are processed sequentially, before `template_string` or `template_path`.
  </comp.DataReferenceRow>
</comp.DataReference>

&nbsp;